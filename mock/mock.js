
var Mock = require('mockjs')
Mock.mock(/getImg/,
    [
        {
            url:'https://m.360buyimg.com/mobilecms/s750x366_jfs/t23185/303/2268048621/426877/b0ab0a91/5b7a36a4Ned6def2c.jpg'
        },
        {
            url:'https://img1.360buyimg.com/da/s750x366_jfs/t25195/271/558445943/197165/7b5f45eb/5b73a021N9c6b7ce4.jpg'
        },

        {
            url:'https://m.360buyimg.com/mobilecms/s750x366_jfs/t20029/272/1765431541/135543/fbf22a8b/5b25a7d0Ncdb4f0f3.jpg'
        }
    ]
)
// 输出结果
let hotBooks=
    [
        {
            bookTitle:'Vue实战教学',
            author:'梁欢',
            bookPrice:79.5,
            bookIsbn:434-53-4232,
            bookCover:"http://img3m6.ddimg.cn/32/10/25180286-1_b_3.jpg"
        },
        {
            bookTitle:'纯真告别',
            author:'杰奎琳·苏珊',
            bookPrice:49.5,
            bookIsbn:4334-53-4232,
            bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
        },
        {
            bookTitle:'焚曲',
            author:'苔丝?格里森',
            bookPrice:23.5,
            bookIsbn:43434-53-425432,
            bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
        },
        {
            bookTitle:'纯真告别',
            author:'杰奎琳·苏珊',
            bookPrice:49.5,
            bookIsbn:4334-53-4232,
            bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
        },
        {
            bookTitle:'纸牌屋',
            author:'迈克尔·道布斯',
            bookPrice:99.5,
            bookIsbn:334-543-42342,
            bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
        },
        {
            bookTitle:'焚曲',
            author:'苔丝?格里森',
            bookPrice:23.5,
            bookIsbn:43434-53-425432,
            bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
        },
        {
            bookTitle:'纯真告别',
            author:'杰奎琳·苏珊',
            bookPrice:49.5,
            bookIsbn:4334-53-4232,
            bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
        },
        {
            bookTitle:'焚曲',
            author:'苔丝?格里森',
            bookPrice:23.5,
            bookIsbn:43434-53-425432,
            bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
        },
        {
            bookTitle:'纸牌屋',
            author:'迈克尔·道布斯',
            bookPrice:99.5,
            bookIsbn:334-543-42342,
            bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
        },
        {
            bookTitle:'纯真告别',
            author:'杰奎琳·苏珊',
            bookPrice:49.5,
            bookIsbn:4334-53-4232,
            bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
        },
        {
            bookTitle:'焚曲',
            author:'苔丝?格里森',
            bookPrice:23.5,
            bookIsbn:43434-53-425432,
            bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
        },
        {
            bookTitle:'纸牌屋',
            author:'迈克尔·道布斯',
            bookPrice:99.5,
            bookIsbn:334-543-42342,
            bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
        },
    ];
Mock.mock(/getHotBooks/,hotBooks);
let books= [
    {
        bookTitle:'Vue实战教学',
        author:'梁欢',
        bookPrice:79.5,
        bookIsbn:'1',
        bookCover:"http://img3m6.ddimg.cn/32/10/25180286-1_b_3.jpg"
    },
    {
        bookTitle:'纯真告别',
        author:'杰奎琳·苏珊',
        bookPrice:49.5,
        bookIsbn:'2',
        bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
    },
    {
        bookTitle:'焚曲',
        author:'苔丝?格里森',
        bookPrice:23.5,
        bookIsbn:'3',
        bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
    },
    {
        bookTitle:'纯真告别',
        author:'杰奎琳·苏珊',
        bookPrice:49.5,
        bookIsbn:'4',
        bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'5',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
    {
        bookTitle:'焚曲',
        author:'苔丝?格里森',
        bookPrice:23.5,
        bookIsbn:'6',
        bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
    },
    {
        bookTitle:'纯真告别',
        author:'杰奎琳·苏珊',
        bookPrice:49.5,
        bookIsbn:'7',
        bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
    },
    {
        bookTitle:'焚曲',
        author:'苔丝?格里森',
        bookPrice:23.5,
        bookIsbn:'8',
        bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'9',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
    {
        bookTitle:'纯真告别',
        author:'杰奎琳·苏珊',
        bookPrice:49.5,
        bookIsbn:'10',
        bookCover:"http://img3m6.ddimg.cn/22/24/25275316-1_b_2.jpg"
    },
    {
        bookTitle:'焚曲',
        author:'苔丝?格里森',
        bookPrice:23.5,
        bookIsbn:'11',
        bookCover:"http://img3m3.ddimg.cn/71/27/25298333-1_b_6.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'12',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'13',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'14',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_8.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'15',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_7.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'16',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
    {
        bookTitle:'纸牌屋',
        author:'迈克尔·道布斯',
        bookPrice:99.5,
        bookIsbn:'17',
        bookCover:"http://img3m9.ddimg.cn/24/33/23753589-1_b_6.jpg"
    },
];
Mock.mock(/getBooks/,(option)=>{
    let offset=JSON.parse(option.body).offset||0;
    let newBooks=books.slice(offset,offset+5)
    let hasMore=true;
    console.log(offset)
    if(newBooks.length<1){//当传回list的值小于5本时，就返回没有更多书了
         hasMore=false
    }
    return {hasMore,books:newBooks}
});
Mock.mock(/delete/,'delete',(option)=>{
    console.log(option.body)//option为axios穿过来的三个值（url，type，body）
    return books=books.filter((item)=>item.bookIsbn!=JSON.parse(option.body).isbn)//返回一个新数组给axios.then接受，新数组books就是删除传过来的ISBN对象的数组
});
Mock.mock(/getOneBook/,(option)=>{
     let oneBook=books.find((item)=>item.bookIsbn==JSON.parse(option.body).isbn);
    console.log(oneBook)
    return oneBook
})